<!DOCTYPE HTML>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link rel="stylesheet" href="./css/fontfaces.css" />
    <link rel="stylesheet" href="./css/codemirror.css" />
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./css/neat.css" />
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.css">-->
    <!-- /CSS -->

    <!-- FAVICONS -->
    <link rel="apple-touch-icon" sizes="180x180" href="./img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="./img/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="./img/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="./img/favicons/manifest.json">
    <link rel="mask-icon" href="./img/favicons/safari-pinned-tab.svg" color="#2E1D47">
    <meta name="theme-color" content="#ffffff">
    <!-- /FAVICONS -->

    <title>Meurtre et mystÃ¨re Ã  SQL City</title>

    <script src="https://unpkg.com/@webcomponents/custom-elements@1.2.0/custom-elements.min.js"></script>
    <script src="./scripts/codemirror.js"></script>
    <script src="./scripts/codemirrorsql.js"></script>
    <script src="./scripts/autorefresh.js"></script>
    <script src="./scripts/main.js"></script>
    <script>
        window.onload = () => loadData('sql-murder-mystery.db');
    </script>
</head>
<body> 

    <header>
        <h1>
            Meurtre et mystÃ¨re Ã  SQL City
        </h1>
        <h2 class="subtitle">RÃ©ussiras-tu Ã  rÃ©soudre l'enquÃªte ?</h2>
    </header>

    <main>
        <div class="introduction">
            <img src="./img/illustration.jpg" alt="Illustration accessoire d'un tableau d'indices">
            <p>
                VoilÃ  quelques mois que des meurtres particuliÃ¨rement Ã©tranges ont lieu dans la ville de SQL City. En tant que stagiaire Ã  la section ğŸš”ğŸš¨Â«Â Meurtres et MystÃ¨resÂ Â» de la police localeğŸš¨ğŸš”, tu es chargÃ© de mener l'enquÃªte. Pour cela, tu peux accÃ©der Ã  cette Ã©norme base de donnÃ©es, manipulable avec SQLite. Cette base de donnÃ©es contient tous les indices nÃ©cessaires. Tu dois utiliser le langage SQL pour naviguer Ã  travers ce vaste rÃ©seau d'informations et rÃ©soudre ce mystÃ¨re. Bonne chance ğŸ€.
            </p>
            <p>Si tu es novice, tu peux regarder les aides Ã  <a href="walkthrough.html" target="_blank">cette page</a>.</p>
        </div>

        <div class="grid-item">
            <h2>Des meurtres particuliÃ¨rement Ã©tranges</h2>
            <p>William, enfin, l'inspecteur Bullock t'avait remis un <b>rapport</b> trÃ¨s important, mais tu l'as Ã©garÃ© ğŸ˜«Â ! </p>
            <p>Commence par rÃ©cupÃ©rer <b>le rapport</b> de la scÃ¨ne crime. Avec un peu de chance, il est dÃ©jÃ  numÃ©risÃ© dans la base de donnÃ©es.</p>
            <div class="clue">
                <div class="clue-title">
                    <div>Indice numÃ©ro 1</div>
                    <div class="clue-number">1</div>
                </div>
                <p>Tu te souviens vaguement  que le crime a eu lieu le 15 janvier 2018 Ã  SQL City et que l'inspecteur Bullock t'avait remis le rapport aprÃ¨s t'avoir conduit sur le <b>lieu du crime</b>. </p>
            </div>

            <h3>Exploration de la structure de la base de donnÃ©es</h3>

            <p>Les cellules suivantes sont connectÃ©es Ã  la base de donnÃ©es de la section de police "Meurtres et MystÃ¨res". Elles permettent d'exÃ©cuter des requÃªtes SQL sur cette base. </p>
            <p>
                Comme tu es un informaticien expÃ©rimentÃ©, tu cherches d'abord Ã  connaÃ®tre <b>la structure de la base de donnÃ©es</b> avec laquelle tu dois travailler. 
            </p>
            <sql-exercise data-question="La requÃªte suivante renvoie les requÃªtes SQL qui ont permis de crÃ©er les tables de cette base de donnÃ©es." data-comment="Cette commande est spÃ©cifique Ã  SQLite. Les autres bases de donnÃ©es ont leur syntaxe spÃ©cifique." data-default-text="SELECT tbl_name, sql FROM sqlite_master WHERE type = 'table'"></sql-exercise>
        </div>

        <div class="grid-item">
            <p>Si les valeurs de l'attribut sql te semblent obscures, ce n'est pas grave. En effet, maintenant que tu as rÃ©cupÃ©rÃ© les noms des tables, tu peux faire des requÃªtes pour en afficher les tables. </p>
            <sql-exercise data-question="La requÃªte ci-dessous renvoie toutes les valeurs de toutes les attributs de la table individu." data-comment="Modifie le nom de la table pour afficher toutes les donnÃ©es de la table que tu souhaites..." data-default-text="SELECT * FROM individu"></sql-exercise> 
            <p>Afin de te familiariser avec la base, tu construis un diagramme entitÃ©-relation Ã  partir de ces donnÃ©es que tu as rÃ©coltÃ©es jusqu'Ã  prÃ©sent.</p>
        </div>     

        <div class="grid-item">
            <h3>Le reste dÃ©pend de toi !</h3>
            <p>
                Si tu es dÃ©jÃ  lÃ , c'est que tu es Ã  l'aise avec SQL, mais tu peux <a id="show-schema">cliquer ici</a> si tu veux voir le diagramme de la base.
            </p>
            <div class="clue" id="experienced-schema">
                <div class="clue-title">Indice</div>
                <a href="./img/schema.png" target="_blank"><img  src="img/schema.png" width="100%"></a>
                <div class="clue-title">
                    <div class="clue-number">2</div>
                    <div>Relations et colonnes</div>
                </div>
            </div>
        <sql-exercise data-question="Utilise tes connaissances du schÃ©ma de la base de donnÃ©es et les commandes SQL pour explorer les donnÃ©es et rÃ©soudre ce mystÃ¨re." data-comment="Lorsque tu penses avoir trouvÃ© qui a commis le meurtre, passe Ã  la section suivante." data-default-text=" "></sql-exercise>
        <!-- newlines in data-default-text force input to be larger -->
        
            <p>Si tu as besoin d'aide en SQL, tu peux toujours visiter <a href="walkthrough.html" target="_blank">cette page</a>.</p>
        </div>

        <div id="check-solution" class="grid-item">
                <h3>VÃ©rifie ta solution ğŸ‘‡</h3>
                <sql-exercise data-question="Avez-vous trouvÃ© le tueur ? " data-comment="" data-default-text="INSERT INTO solution VALUES (1, 'InsÃ©rez ici le nom complet de la personne que vous avez trouvÃ©e'); 
    SELECT value FROM solution;"></sql-exercise>
        </div>
    </main>

    <footer>
        <h3>CrÃ©dits</h3>
        <p>"Meurtre et mystÃ¨re Ã  SQL City" est une adaptation franÃ§aise de l'Å“uvre <a href="https://mystery.knightlab.com/" target="_blank">"SQL Murder Mystery"</a>.</p>
        <p>Traduction de la base de donnÃ©e automatisÃ©e grÃ¢ce aux API <a href="https://docs.python.org/fr/3/library/sqlite3.html" target="_blank">sqlite3</a>, <a href="https://github.com/psf/requests" target="_blank">requests</a>, <a href="https://pypi.org/project/beautifulsoup4/"  target="_blank">bs4</a> et <a href="https://pypi.org/project/googletrans2/" target="_blank">googletrans</a> pour Python + quelques modifications manuelles. </p>
        <p>Illustration du tableau d'indices de <a href="https://fr.vecteezy.com/membres/klyaksun" target="_blank">Yuliya Pauliukevich</a> tÃ©lÃ©chargÃ©e gratuitement sur <a href="https://www.vecteezy.com/" target="_blank">Vectors by Vecteezy</a></p>
        <br>
        <p><b>"SQL Murder Mystery" :</b></p>
        <p>Le site original "SQL Murder Mystery" a Ã©tÃ© crÃ©Ã© par <a href="https://twitter.com/joonparkmusic" target="_blank">Joon Park</a> et <a href="https://twitter.com/Cathy_MeiyingHe" target="_blank">Cathy He</a> alors qu'ils Ã©taient au Knight Lab et adaptÃ©, et mis en production pour le web par <a href="https://twitter.com/joegermuska" target="_blank">Joe Germuska</a>. Voir le <a href="https://github.com/NUKnightLab/sql-mysteries" target="_blank">GitHub repository</a> pour plus d'informations.</p>
        <p>Le <a href="https://knightlab.northwestern.edu/" title="Knight Lab | Faire progresser l'innovation dans les mÃ©dias d'information par l'exploration et l'expÃ©rimentation." target="_blank">Knight Lab</a> est rattachÃ© Ã  <a title="Northwestern University" href="http://www.northwestern.edu/" target="_blank">University Northwestern</a> (situÃ©e aux Ã‰tats-Unis). Il rassemble une Ã©quipe de technologues et de journalistes qui travaillent Ã  faire progresser l'innovation dans les mÃ©dias de l'information par l'exploration et l'expÃ©rimentation. Pour voir quelques projets dÃ©veloppÃ©s par le Knight Lab, c'est par <a href="https://knightlab.northwestern.edu/projects/" target="_blank">ici.</a></p>
        <p>L'Ã©nigme s'inspire d'<a href="https://github.com/veltman/clmystery" target="_blank">un crime survenu Ã  de Terminal City...</a></p>
        <p>Le SQL basÃ© sur le Web est rendu possible grÃ¢ce Ã  <a href="https://github.com/sql-js/sql.js/" target="_blank">SQL.js</a></p>
        <p>Les composants Web personnalisÃ©s pour effectuer les requÃªtes SQL ont Ã©tÃ© crÃ©Ã©s et mis dans le domaine public par Zi Chong Kao, crÃ©ateur de <a href="https://selectstarsql.com/" target="_blank">Select Star SQL.</a></p>
        <br>
        <p>Le code original est publiÃ© sous la <a href="https://github.com/habored/mystere-sql/blob/master/LICENSE" target="_blank">licence MIT</a></p>
        <p>Le texte original et les autres contenus sont publiÃ©s sous <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.fr" target="_blank">Creative Commons CC BY-SA 4.0</a></p>
    </footer>
    <script type="text/javascript">
        document.querySelector('#show-schema').addEventListener('click', function() {
            document.querySelector('#experienced-schema').classList.add('show');
        })
    </script>
</body>
</html>
